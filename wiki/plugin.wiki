#labels Phase-Implementation
#sidebar TableOfContent
The original plugins in <a href="http://genj.sourceforge.net/">GenJ http://gedcom2sem.googlecode.com/svn/trunk/wiki-images/icon_external_link_blue.png</a> and <a href="http://www.ancestris.org/">Ancestris http://gedcom2sem.googlecode.com/svn/trunk/wiki-images/icon_external_link_blue.png</a> still lack the enhancements for mash ups and KML. The command line interface of this library is not very suitable for end users. Plugin developers could plug this library back into both applications and into other applications that choose so. 

The main classes are identified on the [overview] page, they are a good starting point to explore the possibilities.

=design suggestions=
==options per gedcom==
  * names, locations and editors for uri.properties, mashup.properties and the file(s) with rules
  * name and location of converted gedcom
  * name and location of geoMashup.ttl (perhaps the  geo-plugin of ancestris could export a replacement for the mashup.tsv)
  * name and location of collected mash up data
  * checkbox: save the converted gedcom whenever the gedcom itself is saved (especially with all the rules applied it takes a while, prevent blocking GUI processing)

==menu comands==
  * save converted gedcom. Invokes Convert
  * collect mash up data

==report dialog==
invoked from the general menu or the context menu of an entity. The OK button of the dialog invokes: Select
  * An entity chooser.
  * When the dialog was opened from a context menu of an entity, that instance should be initialy selected. The chosen query may dictate another type of entity, The OK button should be disabled until that conflict is resolved. A "%s" in the query should be replaced by the selected entity.
  * An edit box for the query.
  * Show line numbers to help fix syntax errors.
  * Additional controls to read from or write to the file system or load one of the built-in example queries. Prefixes of the built-in quiries indicate which rules should have been applied, disable the built in queries that need more rules than have been applied with the last conversion of the gedcom..
  * checkboxes (At least one should be checked, selecting a built-in query automaticaly checks the apropriate ones)
    * use converted gedcom
    * use mashup output
    * use all files of the mashup output location
  * name and location of the output file (or show in a window)
  * name and location of the xsl file (style sheet) to insert into xml output (an additional control saves http://www.w3.org/TR/rdf-sparql-XMLres/result-to-html.xsl)

A mistake in a query might cause to execute forever. It should be executed in a subprocess that can be killed when the users chooses so. Same applies to conversion with custom rules. 